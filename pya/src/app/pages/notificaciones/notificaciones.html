<div class="page">
  <h2 class="title">ðŸ”” Mis Notificaciones</h2>
  
  <div class="filters">
    <button (click)="cambiarFiltro('todas')" [class.active]="filtro === 'todas'">Todas</button>
    <button (click)="cambiarFiltro('no-leidas')" [class.active]="filtro === 'no-leidas'">No leÃ­das</button>
  </div>

  <div *ngIf="cargando" class="loading">Cargando notificaciones...</div>

  <div *ngIf="!cargando && notificaciones.length === 0" class="empty">
    No tienes notificaciones
  </div>

  <div *ngIf="!cargando && notificaciones.length > 0" class="list">
    <div *ngFor="let notif of notificaciones" class="notif-card" [class.no-leida]="!notif.leida">
      <div class="content">
        <p class="message">{{ notif.mensaje }}</p>
        <p class="date">{{ notif.fechaEnvio | date:'short' }}</p>
        <p class="tramite" *ngIf="notif.tramiteId">TrÃ¡mite: {{ notif.tramiteId }}</p>
      </div>
      <button *ngIf="!notif.leida" (click)="marcarLeida(notif)" class="btn-leida">Marcar leÃ­da</button>
    </div>
  </div>
</div>
