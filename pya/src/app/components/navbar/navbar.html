<aside 
  [class.w-72]="isOpen" 
  [class.w-20]="!isOpen"
  class="fixed top-0 left-0 h-full bg-[#0d0221] text-white z-40 shadow-[10px_0_30px_rgba(88,28,135,0.3)] transition-all duration-300 ease-in-out border-r border-purple-900/50 flex flex-col">
  
  <div class="h-16 flex items-center bg-gradient-to-r from-[#6366f1] to-[#a855f7] px-4 overflow-hidden shrink-0">
    <button (click)="toggleMenu()" class="min-w-[40px] h-10 flex items-center justify-center hover:bg-white/20 rounded-xl transition-all active:scale-90">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
    <span *ngIf="isOpen" class="ml-4 font-black italic tracking-tighter text-xl whitespace-nowrap drop-shadow-md">
      PYA <span class="text-purple-200">SEGUROS</span>
    </span>
  </div>

  <div class="flex-grow flex flex-col p-4">
    <div class="mb-6 flex items-center p-3 rounded-2xl bg-purple-900/30 border border-purple-500/30">
      <div class="min-w-[40px] h-10 flex items-center justify-center bg-purple-500 rounded-xl font-bold shadow-lg uppercase">
        {{ (authService.getRole() || 'U').charAt(0) }}
      </div>
      <div *ngIf="isOpen" class="ml-3">
        <p class="text-[10px] text-purple-400 font-black uppercase tracking-widest leading-none mb-1">Acceso Nivel</p>
        <p class="text-white font-bold text-xs uppercase">{{ authService.getRole() }}</p>
      </div>
    </div>

    <nav class="flex-grow space-y-3">
      <div *ngIf="authService.getRole() === 'USER'" class="space-y-2">
        <a routerLink="/user-dashboard" routerLinkActive="bg-purple-600/30 border-purple-500/50" class="flex items-center p-3 rounded-xl hover:bg-purple-600/20 transition-all group">
          <span class="text-2xl min-w-[32px]">ğŸ </span>
          <span *ngIf="isOpen" class="ml-3 font-bold text-purple-100">Mi PÃ³liza</span>
        </a>
        <a class="flex items-center p-3 rounded-xl hover:bg-purple-600/20 transition-all group cursor-pointer">
          <span class="text-2xl min-w-[32px]">ğŸ’³</span>
          <span *ngIf="isOpen" class="ml-3 font-bold text-purple-100">Pagos</span>
        </a>
      </div>

      <div *ngIf="authService.getRole() === 'INSURER'" class="space-y-2">
        <a routerLink="/insurer-dashboard" routerLinkActive="bg-purple-600/30 border-purple-500/50" class="flex items-center p-3 rounded-xl hover:bg-purple-600/20 transition-all group">
          <span class="text-2xl min-w-[32px]">ğŸ“‹</span>
          <span *ngIf="isOpen" class="ml-3 font-bold text-purple-100">Validar</span>
        </a>
        <a class="flex items-center p-3 rounded-xl hover:bg-purple-600/20 transition-all group cursor-pointer">
          <span class="text-2xl min-w-[32px]">ğŸ‘¥</span>
          <span *ngIf="isOpen" class="ml-3 font-bold text-purple-100">Clientes</span>
        </a>
      </div>

      <div *ngIf="authService.getRole() === 'ADMIN'" class="space-y-2">
        <a routerLink="/admin-dashboard" routerLinkActive="bg-purple-600/30 border-purple-500/50" class="flex items-center p-3 rounded-xl hover:bg-purple-600/20 transition-all group">
          <span class="text-2xl min-w-[32px]">ğŸ“Š</span>
          <span *ngIf="isOpen" class="ml-3 font-bold text-purple-100">Global</span>
        </a>
        <a class="flex items-center p-3 rounded-xl hover:bg-purple-600/20 transition-all group cursor-pointer">
          <span class="text-2xl min-w-[32px]">âš™ï¸</span>
          <span *ngIf="isOpen" class="ml-3 font-bold text-purple-100">Ajustes</span>
        </a>
      </div>
    </nav>

    <div class="mt-auto pt-4 border-t border-purple-900/50">
      <button (click)="logout()" 
        class="w-full flex items-center p-3 rounded-xl bg-red-500/10 text-red-400 hover:bg-red-500 hover:text-white transition-all border border-red-500/20">
        <div class="min-w-[32px] flex items-center">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9" />
          </svg>
        </div>
        <span *ngIf="isOpen" class="ml-3 font-black text-[10px] tracking-[0.2em] uppercase">Cerrar SesiÃ³n</span>
      </button>
    </div>
  </div>
</aside>